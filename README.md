<p align="center">
  <img src="https://raw.githubusercontent.com/laravel/art/master/logo-lockup/5%20SVG/2%20CMYK/1%20Full%20Color/laravel-logolockup-cmyk-red.svg" width="400" alt="Laravel Logo">
</p>

<h1 align="center">ğŸ¥ Posyandu ILP API</h1>

<p align="center">
  <img src="https://img.shields.io/badge/Laravel-FF2D20?style=for-the-badge&logo=laravel&logoColor=white" alt="Laravel">
  <img src="https://img.shields.io/badge/PHP-777BB4?style=for-the-badge&logo=php&logoColor=white" alt="PHP">
  <img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=mysql&logoColor=white" alt="MySQL">
  <img src="https://img.shields.io/badge/Sanctum-orange?style=for-the-badge&logo=laravel&logoColor=white" alt="Sanctum">
</p>

---

## ğŸ“ Deskripsi Proyek

**Posyandu ILP API** adalah backend sistem informasi yang dirancang untuk mendigitalisasi pencatatan data kesehatan di Posyandu (Integrasi Layanan Primer). API ini memungkinkan aplikasi frontend untuk mengelola data peserta, mencatat hasil kunjungan/pemeriksaan, dan menyajikan statistik kesehatan secara real-time.

## âœ¨ Fitur Utama

-   **ğŸ” Otentikasi Keamanan**: Menggunakan Laravel Sanctum untuk sistem login secure berbasis token.
-   **ğŸ‘¥ Manajemen Peserta**: Kelola data penduduk dari berbagai kategori (Balita, Ibu Hamil, Remaja, Dewasa/Lansia).
-   **ğŸ“‹ Pencatatan Kunjungan**: Dokumentasi hasil pemeriksaan kesehatan rutin (berat badan, tinggi badan, tekanan darah, dll).
-   **ğŸ“Š Dashboard Stats**: Endpoint khusus untuk menyajikan data ringkasan dan grafik tren kesehatan.
-   **ğŸ›¡ï¸ Role-Based Access**: Mendukung peran Admin dan Kader untuk pembatasan akses data.

## ğŸ› ï¸ Tech Stack

-   **Framework**: Laravel 12.x
-   **Database**: MySQL
-   **Auth**: Laravel Sanctum
-   **Testing**: Pest Framework

## ğŸš€ Cara Instalasi

1. **Clone Repository**

    ```bash
    git clone https://github.com/username/posyandu_api.git
    cd posyandu_api
    ```

2. **Instal Dependensi**

    ```bash
    composer install
    ```

3. **Konfigurasi Environment**

    ```bash
    cp .env.example .env
    php artisan key:generate
    ```

4. **Migrasi Database**

    ```bash
    php artisan migrate --seed
    ```

5. **Jalankan Server**
    ```bash
    php artisan serve
    ```

## ğŸ“¡ API Endpoints (Ringkasan)

### ğŸ”‘ Authentication

| Method | Endpoint        | Deskripsi                         |
| :----: | :-------------- | :-------------------------------- |
| `POST` | `/api/login`    | Masuk ke sistem & dapatkan token  |
| `POST` | `/api/register` | Pendaftaran pengguna baru         |
| `GET`  | `/api/profile`  | Ambil data profil user yang login |

### ğŸ“ Peserta & Kunjungan

| Method | Endpoint                         | Deskripsi                     |
| :----: | :------------------------------- | :---------------------------- |
| `GET`  | `/api/peserta`                   | Daftar semua peserta Posyandu |
| `POST` | `/api/peserta`                   | Tambah peserta baru           |
| `GET`  | `/api/peserta/{id}/latest-visit` | Detail pemeriksaan terakhir   |
| `GET`  | `/api/kunjungan`                 | Riwayat pemeriksaan kesehatan |
| `POST` | `/api/kunjungan`                 | Catat hasil pemeriksaan baru  |

### ğŸ“ˆ Dashboard

| Method | Endpoint                             | Deskripsi                           |
| :----: | :----------------------------------- | :---------------------------------- |
| `GET`  | `/api/dashboard/stats`               | Data ringkasan (Total Peserta, dll) |
| `GET`  | `/api/dashboard/chart`               | Data untuk grafik tren bulanan      |
| `GET`  | `/api/dashboard/registrations-chart` | Data pendaftaran peserta per bulan  |

## ğŸ“– Dokumentasi API (Interactive)

Proyek ini menggunakan **Laravel Scramble** untuk generate dokumentasi API secara otomatis dari kode.

### Akses Dokumentasi

| URL              | Deskripsi                                  |
| :--------------- | :----------------------------------------- |
| `/docs/api`      | UI interaktif (Auto-generated by Scramble) |
| `/docs/api.json` | OpenAPI 3.0 specification                  |

### Cara Mengakses

1. Jalankan server lokal:

    ```bash
    php artisan serve
    ```

2. Buka browser dan akses:
    ```
    http://localhost:8000/docs/api
    ```

> **Catatan**: Dokumentasi hanya tersedia di environment `local` secara default.

## ğŸ”’ Fitur Keamanan

-   **Rate Limiting**: Login (5/menit), Register (3/menit).
-   **Account Lockout**: Kunci 15 menit setelah 5x gagal login.
-   **Security Headers**: X-Frame-Options, X-XSS-Protection, dll.
-   **Audit Logging**: Semua aktivitas login dicatat di `storage/logs/security-*.log`.

---

<p align="center">
  Dibuat dengan â¤ï¸ untuk kemajuan kesehatan masyarakat.
</p>
